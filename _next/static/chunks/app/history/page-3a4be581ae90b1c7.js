(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{6888:(e,t,n)=>{Promise.resolve().then(n.bind(n,6254))},6254:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(5155),l=n(2115),r=n(9092),s=n(3201);let o=()=>{let{walletConnected:e,walletAddress:t}=(0,r.v)(),[n,o]=(0,l.useState)([]),[c,i]=(0,l.useState)([]);return(0,l.useEffect)(()=>{o((0,s.J)("transactions")||[])},[]),(0,l.useEffect)(()=>{i(n.filter(e=>e.walletAddress===t))},[t,n]),(0,a.jsx)("div",{className:"min-h-screen bg-blue-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 w-full max-w-2xl",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Transaction History"}),e?0===c.length?(0,a.jsx)("p",{className:"text-gray-600",children:"No transaction history found for your wallet."}):(0,a.jsx)("div",{className:"overflow-y-auto max-h-[400px]",children:(0,a.jsx)("ul",{className:"space-y-4",children:c.map((e,t)=>(0,a.jsxs)("li",{className:"p-4 bg-gray-100 rounded-lg shadow-sm",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"From:"})," ",e.fromAmount," ",e.fromToken]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"To:"})," ",e.toAmount," ",e.toToken]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Time:"})," ",new Date(e.timestamp).toLocaleString()]})]},t))})}):(0,a.jsx)("p",{className:"text-gray-600",children:"Please connect your wallet to view history."})]})})}},9092:(e,t,n)=>{"use strict";n.d(t,{WalletProvider:()=>d,v:()=>u});var a=n(5155),l=n(2115),r=n(8808),s=n(5631),o=n(2316),c=n(3201);let i=(0,l.createContext)(void 0),d=e=>{let{children:t}=e,[n,d]=(0,l.useState)(!1),[u,w]=(0,l.useState)(null),[h,f]=(0,l.useState)("0.00"),[g,m]=(0,l.useState)("0.00"),x=async()=>{if(!window.ethereum){alert("MetaMask is not installed");return}try{let e=window.ethereum,t=new r.k(e),n=await t.send("eth_accounts",[]);if(0===n.length){alert("No accounts found. Please connect your wallet.");return}if(n.length>0){console.log("Already connected:",n[0]),d(!0),w(n[0]),(0,c.P)("walletConnected",!0),(0,c.P)("walletAddress",n[0]),await y(t,n[0]);return}let a=await t.getSigner(),l=await a.getAddress();d(!0),w(l),(0,c.P)("walletConnected",!0),(0,c.P)("walletAddress",l),await y(t,l)}catch(e){console.error("Error connecting wallet:",e)}},y=async(e,t)=>{try{let n=new s.NZ("0x46caFcED9C1E16F05b474774144f325A16d9B26E",["function balanceOf(address) view returns (uint256)"],e),a=new s.NZ("0x5BAAA2054Bba4A1FEAf52aFb8502B14c61A8Bed9",["function balanceOf(address) view returns (uint256)"],e),[l,r]=await Promise.all([n.balanceOf(t),a.balanceOf(t)]);f(o.Js(l,18)),m(o.Js(r,6))}catch(e){console.error("Error fetching balances:",e)}},v=async e=>{if(0===e.length)console.log("Wallet disconnected"),d(!1),w(null),f("0.00"),m("0.00"),(0,c.P)("walletConnected",!1),(0,c.P)("walletAddress",null);else{let t=window.ethereum,n=new r.k(t);w(e[0]),(0,c.P)("walletAddress",e[0]),await y(n,e[0])}},p=e=>{console.log("Chain changed to: ".concat(parseInt(e,16))),0xaa36a7!==parseInt(e,16)?alert("Please switch to Sepolia network."):x()};return(0,l.useEffect)(()=>{let e=async()=>{let e=window.ethereum,t=new r.k(e),n=(0,c.J)("walletConnected"),a=(0,c.J)("walletAddress");n&&a&&(console.log("Reconnecting wallet:",a),d(!0),w(a),await y(t,a))};if(window.ethereum){let t=window.ethereum;return t.on("accountsChanged",v),t.on("chainChanged",p),"11155111"!==t.networkVersion&&alert("Please switch to Sepolia network."),e(),()=>{t.removeListener&&(t.removeListener("accountsChanged",v),t.removeListener("chainChanged",p))}}},[]),(0,a.jsx)(i.Provider,{value:{walletConnected:n,walletAddress:u,mockERC20Balance:h,mockUSDCBalance:g,connectWallet:x},children:t})},u=()=>{let e=(0,l.useContext)(i);if(!e)throw Error("useWallet must be used within a WalletProvider");return e}},3201:(e,t,n)=>{"use strict";function a(e,t){localStorage.setItem(e,JSON.stringify(t))}function l(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){return null}}n.d(t,{J:()=>l,P:()=>a})}},e=>{var t=t=>e(e.s=t);e.O(0,[733,441,517,358],()=>t(6888)),_N_E=e.O()}]);